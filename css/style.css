let pokemonRepository=function(h){let i=[],b=document.querySelector("#modal-container");function c(){b.classList.remove("show-modal")}function c(){document.querySelector("#modal-container").classList.remove("is-visible")}function d(a){"object"==typeof a&&"name"in a&&"detailsUrl"in a&&i.push(a)}function e(){return i}function f(c){let d=document.querySelector("ul"),b=document.createElement("li");b.classList.add("group-list-item");let a=document.createElement("button");a.innerText=c.name,a.addEventListener("click",function(){g(c)}),a.classList.add("button-class"),a.classList.add("btn"),a.classList.add("btn-primary"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemon-modal"),$(a).addClass("button-class btn-block btn md"),a.classList.add("button-class"),b.appendChild(a),d.appendChild(b)}function a(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.weight=b.weight,a.types=b.types.map(a=>a.type.name).join(", "),a.abilities=b.abilities.map(a=>a.ability.name).join(", ")}).catch(function(a){console.error(a)})}function a(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.height=b.height,a.weight=b.weight,a.types=b.types.map(a=>a.type.name).join(", "),a.abilities=b.abilities.map(a=>a.ability.name).join(", ")}).catch(function(a){console.error(a)})}function g(b){a(b).then(function(){!function(a){let b=$(".modal-body"),c=$(".modal-title");c.empty(),b.empty();let e=$("<h3>"+a.name+"</h3>"),d=$('<img class="pokemon-img">');d.attr("src",a.imageUrl);let f=$("<p>Height: "+a.height+"</p>"),g=$("<p>Weight: "+a.weight+"</p>"),h=$("<p>Types: "+a.types+"</p>"),i=$("<p>Abilities: "+a.abilities+"</p>");c.append(e),b.append(d),b.append(f),b.append(g),b.append(h),b.append(i);let j=$(this).attr("data-target");$(j).modal("show")}(b),console.log(b)})}return window.addEventListener("keydown",a=>{"Escape"===a.key&&b.classList.contains("show-modal")&&c()}),window.addEventListener("keydown",a=>{"Escape"===a.key&&b.classList.contains("is-visible")&&c()}),b.addEventListener("click",a=>{a.target===b&&c()}),{add:d,getAll:e,showAll:function(){i.forEach(function(a){f(a)})},addListItem:f,loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){d({name:a.name,detailsUrl:a.url})})}).catch(function(a){console.error(a)})},loadDetails:a,showDetails:g}}();pokemonRepository.loadList().then(function(){pokemonRepository.showAll(),pokemonRepository.getAll().forEach(function(a){})})
